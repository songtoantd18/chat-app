<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
</head>

<body>
    <h1>Chat App</h1>
    <p>GiÃ¡ trá»‹ Ä‘áº¿m hiá»‡n táº¡i: <span id="count">0</span></p>
    <button id="increment">+1</button>

    <script src="/socket.io/socket.io.js"></script>
    <script>

        const socket = io(); // Káº¿t ná»‘i vá»›i server

        // HÃ m Ä‘á»ƒ láº¥y thá»i gian hiá»‡n táº¡i
        function getCurrentTime() {
            const now = new Date();
            console.log("ğŸš€ ~ getCurrentTime ~ now:", now)
            return now.toLocaleString(); // Äá»‹nh dáº¡ng thá»i gian theo ngÃ´n ngá»¯ Ä‘á»‹a phÆ°Æ¡ng
        }

        // Láº¯ng nghe sá»± kiá»‡n 'countupdate' tá»« server Ä‘á»ƒ cáº­p nháº­t giao diá»‡n
        socket.on("countupdate", (count) => {
            console.log("[" + getCurrentTime() + "] BÆ°á»›c 5: Nháº­n sá»± kiá»‡n countupdate tá»« server:", count); // Log giÃ¡ trá»‹ count nháº­n tá»« server vá»›i thá»i gian
            document.getElementById("count").textContent = count; // Hiá»ƒn thá»‹ sá»‘ Ä‘áº¿m má»›i trÃªn giao diá»‡n
        });

        // Láº¥y pháº§n tá»­ nÃºt vÃ  thÃªm sá»± kiá»‡n 'click'
        document.getElementById("increment").addEventListener("click", () => {
            console.log("[" + getCurrentTime() + "] BÆ°á»›c 6: NÃºt +1 Ä‘Æ°á»£c nháº¥n"); // Log khi nÃºt Ä‘Æ°á»£c nháº¥n vá»›i thá»i gian
            // Gá»­i sá»± kiá»‡n 'increment' Ä‘áº¿n server khi nÃºt Ä‘Æ°á»£c nháº¥n
            socket.emit("increment");
        });

    </script>
</body>

</html>